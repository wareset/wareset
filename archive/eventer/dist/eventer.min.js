/* eslint-disable */
/**
 * @license
 * Copyright 2020-2022 @wareset/store Authors
 * SPDX-License-Identifier: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).eventer={})}(this,(function(e){"use strict";var t="undefined"!=typeof window,r=t&&"onpointermove"in document,n=Array.isArray,s=()=>{},o=()=>s,a=e=>{e.preventDefault()},i=e=>{e.stopPropagation()},l=(e,t,r,n)=>{e.addEventListener(t,r,n)},c=(e,t,r)=>{e.removeEventListener(t,r)},p=(e,t,r)=>(e.set(t,r),r),h=/^([a-z]+)|([.\d]+)|\(([^)]+)\)|\[([^\]]+)\]|(?<=\W)(\w+)/g,f=e=>{var t,r,n={type:"",num:500,self:!1,trusted:!1,once:!1,stop:!1,prevent:!1,passive:!1,capture:!1,x:!1,y:!1,u:!1,d:!1,l:!1,r:!1,xy:!1,keys:{},kLen:0};for(h.lastIndex=0;t=h.exec(e);)(r=t[1])?n.type=r:(r=t[2])&&(n.num=1e3*+r),(r=t[3])||(r=t[4])?(n.kLen++,n.keys[r]=1):(r=t[5])&&(r in n||(r=r[0])in n)&&(n[r]=!0);return n.xy=n.x||n.y||n.u||n.d||n.l||n.r,n},u=e=>function(t){for(var r=0;r<e.length;r++)e[r].call(this,t)},v=(e,t)=>function(r){y(t)&&e.call(this,r)},d=e=>function(t){t.target===this&&e.call(this,t)},g=e=>function(t){t.isTrusted&&e.call(this,t)},y=e=>{var t=e.kLen;for(var r in k){if(!(k[r][0]in e.keys)&&!(k[r][1]in e.keys))break;t--}return t<=0},k={},m=[];t&&(l(document,"keyup",(e=>{delete k[e.code+e.key]}),!1),l(document,"keydown",(e=>{k[e.code+e.key]=[e.code,e.key];for(var t=0;t<m.length;t++)m[t][0].kLen?("test"===m[t][0].type||y(m[t][0]))&&m[t][1](e):m.splice(t--,1)}),!1));var w=t?(e,t)=>{var r;if(n(e)){for(var s=[],o=0;o<e.length;o++)s.push(w(e[o],t));r=()=>{for(;s.length;)s.pop()()}}else{var l=[].concat(t),c=f(e);c.kLen||(c.kLen=1,c.type="test"),r=()=>{c.kLen=l.length=0};var p=u(l);c.once&&l.push(r),c.stop&&l.unshift(i),c.prevent&&l.unshift(a),c.trusted&&(p=g(p)),m.push([c,p])}return r}:o,b=(()=>{if(!t)return o;var e,r=new WeakMap,n=e=>"offsetWidth"in e?[e.offsetWidth,e.offsetHeight]:[e.clientWidth,e.clientHeight],a=t=>{var s=r.get(t),[o,a]=n(t);if(s[2][0]!==o||s[2][1]!==a){s[2][0]=o,s[2][1]=a;var i=s[1]=t.getBoundingClientRect();o=i.right-i.left,a=i.bottom-i.top;for(var l=0;l<s[0].length;l++)for(var c=s[0][l],p=0;p<c.length;p++)c[p]({target:t,width:o,height:a,top:i.top,left:i.left}),c.length||(s[0].splice(l--,1),s[0].length||(e.unobserve(t),r.delete(t)))}},i=()=>{if(i=s,"undefined"!=typeof ResizeObserver)e=new ResizeObserver((e=>{for(var t=0;t<e.length;t++)a(e[t].target)}));else{var t,r=[0],n=[],o=setTimeout,l=clearTimeout,c=()=>{for(l(t),r[0]=0;r[0]<n.length;r[0]++)a(n[r[0]]);n.length&&(t=o(c,20))};document.addEventListener("visibilitychange",(()=>{document.hidden?l(t):c()}),!1),(e={}).observe=e=>{n.push(e),o(c,20)},e.unobserve=()=>{n.splice(r[0]--,1)}}};return(t,s,o=!0)=>{i();var a,l=[].concat(s),c=r.get(t)||(e.observe(t),p(r,t,[[],t.getBoundingClientRect(),n(t)]));if(c[0].push(l),o)for(var h=(a=c[1]).right-a.left,f=a.bottom-a.top,u=0;u<l.length;u++)l[u]({target:t,width:h,height:f,top:a.top,left:a.left});return()=>{l.length=0}}})(),x=t?(e,t,r)=>{var s;if(n(t)){for(var o=[],p=0;p<t.length;p++)o.push(x(e,t[p],r));s=()=>{for(;o.length;)o.pop()()}}else{var h=[].concat(r),y=f(t);if(!y.type)throw t;s=()=>{h.length=0,c(e,y.type,k)};var k=u(h);y.once&&h.push(s),y.stop&&h.unshift(i),y.prevent&&h.unshift(a),y.kLen&&(k=v(k,y)),y.self&&(k=d(k)),y.trusted&&(k=g(k)),l(e,y.type,k,{passive:y.passive,capture:y.capture})}return s}:o,L=(()=>{if(!t)return o;var e,i,h,y,k,m,w=e=>e<0?-e:e,b=e=>{for(var t=0,r=e.length;r-- >0;)t+=e[r];return t},x=e=>!e.xy||i===C&&(e.x||e.l)||i===F&&(e.x||e.r)||i===j&&(e.y||e.u)||i===B&&(e.y||e.d),L=t?window.getSelection?()=>{window.getSelection().removeAllRanges()}:()=>{document.selection.empty()}:s,W=new WeakMap,T=new WeakMap,X=new WeakMap,Y="start",z="move",M="end",R="click",E="dblclick",I="press",P="repeat",A="hoverin",N="hoverout",O="focusin",S="focusout",j="up",B="down",C="left",F="right",H=(t,r)=>({type:t,target:e,direction:i,isFirst:D,isFinal:q,page:{x:U,y:V},delta:{x:ee,y:te},offset:{x:Z,y:$},client:{x:G,y:J},screen:{x:K,y:Q},isTrusted:r.isTrusted,event:r}),_=(e,t,r)=>{var n=W.get(e);if(n&&t in n){for(var s,o=n[t],a=0;s=o[a],a<o.length;a++){for(var i=0;i<s.length;i++)s[i](H(t,r));s.length||o.splice(a--,1)}o.length||delete n[t]}},D=!1,q=!1,G=0,J=0,K=0,Q=0,U=0,V=0,Z=0,$=0,ee=0,te=0,re=[0,0,0,0,0],ne=[0,0,0,0,0],se=!1,oe=!1,ae=!1,ie=[],le={},ce={},pe=[],he=[],fe={},ue=(t,r,n)=>{if(n||1===t.touches.length){var o=e=t.target,a=r!==z?o:ce,l=le!==o,c=ce!==a,{clientX:p,clientY:f,pageX:u,pageY:v,screenX:d,screenY:g}=n?t:t.touches[0]||{clientX:G,clientY:J,pageX:U,pageY:V,screenX:K,screenY:Q};h=t.timeStamp,se=!1,r===z?ae&&!oe&&(oe=!0):(ie.forEach(clearInterval),ie.length=0,r===Y?(fe=e,ae=!0,y=h,G=p,J=f,Z=$=0):(ae=!1,k=h,oe&&(oe=!(se=!0)))),ee=-G+(G=p),te=-J+(J=f),$+=te,K=d,Q=g,U=u,V=v;var m=1e3*(w(Z+=ee)+w($));re.shift(),ne.shift(),re.push(ee),ne.push(te);var W=b(re),ue=b(ne);if(i=w(W)>w(ue)?W<0?C:F:ue<0?j:B,l||c){var ve=t.composedPath&&t.composedPath()||(e=>{var t=[],r=e.target;do{t.push(r)}while(r=r.parentNode);return t.push(window),t})(t),de=ve.length-2;if(l){le=o;for(var ge=ve,ye=de,ke=pe.length-2;ge[ye]===pe[ke];)ye--,ke--;for(;ke>=0;ke--)_(pe[ke],N,t);for(;ye>=0;ye--)_(ge[ye],A,t);pe=ge}if(c){ce=a;for(var we=ve,be=de,xe=he.length-2;we[be]===he[xe];)be--,xe--;for(;xe>=0;xe--)_(he[xe],S,t);for(;be>=0;be--)_(we[be],O,t);he=we}}var Le,We,Te,Xe,Ye,ze,Me,Re={};for(Le=e;Le;Le=Le.parentNode)if(We=X.get(Le))for(var Ee=0;Ee<We.length;Ee++)(Te=We[Ee])[1]===s?(We.splice(Ee--,1),We.length||(X.delete(Le),T.has(Le)||me(Le))):(Me=(Xe=Te[0]).type)in Re||(Xe.stop&&(Re[Me]=!0),Ye=Te[1],ze=Te[2],(r!==z||x(Xe))&&Ye(H(Me,t)));for(Le=fe;Le;Le=Le.parentNode)if(We=T.get(Le))for(var Ie=0;Ie<We.length;Ie++)if((Te=We[Ie])[1]===s)We.splice(Ie--,1),We.length||(T.delete(Le),X.has(Le)||me(Le));else if(!((Me=(Xe=Te[0]).type)in Re))switch(Xe.stop&&(Re[Me]=!0),Ye=Te[1],ze=Te[2],Me){case R:r===M&&k-y<Xe.num&&Ye(H(Me,t));break;case E:r===M&&(k-(ze.s||0)>Xe.num&&(ze.is=0),(ze.is=0|++ze.is)&&(1===ze.is?ze.s=y:(ze.is=0,Ye(H(Me,t)))));break;case"pan":(r===z&&ae||se)&&(se&&ze.is||m>Xe.num&&x(Xe))&&((q=se)?ze.is=!1:ze.is||(D=ze.is=!0),L(),Ye(H(Me,t)),D=q=!1);break;case I:case P:r===Y&&ie.push(ze.sti=setInterval(((e,t,r)=>{e===I&&clearInterval(r.sti),L(),Ye(H(e,t))}),Xe.num,Me,t,ze))}r===M&&(G=p,J=f,Z=$=0)}};if(r)m={pointerdown:e=>{ue(e,Y,!0)},pointermove:e=>{ue(e,z,!0)},pointerup:e=>{ue(e,M,!0)},pointercancel:e=>{ue(e,M,!0)}};else{var ve=0,de=(e,t)=>{++ve>=(ve=1)&&ue(e,t,!0)},ge=(e,t)=>{--ve<=(ve=-1)&&ue(e,t,!1)};m={mousedown:e=>{de(e,Y)},mousemove:e=>{de(e,z)},mouseup:e=>{de(e,M)},touchstart:e=>{ge(e,Y)},touchmove:e=>{ge(e,z)},touchend:e=>{ge(e,M)},touchcancel:e=>{ge(e,M)}}}var ye=["click","dblclick"];for(var ke in m)l(document,ke,m[ke],!1),ye.push(ke);var me=e=>{for(var t=0;t<ye.length;t++)c(e,ye[t],a)},we=(e,t,r)=>{var o;if(n(t)){var i=[];o=()=>{for(;i.length;)i.pop()()};for(var c=0;c<t.length;c++)i.push(we(e,t[c],r))}else{var h=[].concat(r),y=f(t),k=y.type,m=!1;switch(k){case A:case N:case O:case S:o=()=>{h.length=0},y.once&&h.push(o);var w=W.get(e)||p(W,e,{});k in w?w[k].push(h):w[k]=[h];break;case Y:case z:case M:m=!0;case R:case E:case"pan":case I:case P:o=()=>{h.length=0,x[1]=s};var b=u(h);y.once&&h.push(o),y.kLen&&(b=v(b,y)),y.self&&(b=d(b)),y.trusted&&(b=g(b)),X.has(e)||T.has(e)||(e=>{for(var t=0;t<ye.length;t++)l(e,ye[t],a,{passive:!1})})(e);var x=[y,b,{}],L=m?X:T;(L.get(e)||p(L,e,[])).push(x);break;default:throw t}}return o};return we})(),W={resize:b,keypad:w,native:x,cursor:L};e.cursor=L,e.default=W,e.keypad=w,e.native=x,e.resize=b,Object.defineProperty(e,"__esModule",{value:!0})}));
